{{> new-ticket}}

{{!-- top half of the page --}}
<section class="container min-vh-100 py-2">
    <div class="row">
        <div class="col">
            <h2 class="d-flex justify-content-center">Your Tickets</h2>
            <p id= "subhead" class= "d-flex justify-content-center">
                You may view ALL tickets, or filter by status. 
            </p>
<div id=ticket-btns class= "d-flex justify-content-evenly">
        <button id="unclaimed" type="button" data-state="visible" class="btn btn-secondary">Unclaimed</button>
        <button id="pending" type="button" data-state="visible" class="btn btn-secondary">Pending</button>
        <button id="resolved" type="button" data-state="visible" class="btn btn-secondary">Resolved</button>
        <button id="claimed" type="button" data-state="visible" class="btn btn-secondary">Claimed</button>
        <button id="all" type="button" data-state="visible" class="btn btn-secondary">ALL</button>
    </div> 
    <div class="btnIcon d-flex justify-content-center">
        <button id="addBtn" class="btn"><i class="fa-solid fa-plus"></i></button>
        </div>
    </div>

</section>


{{!-- bottom half of the page --}}
<section> 

{{!-- table that includes all the ticket info --}}
    <div class="position-absolute top-50 start-50 translate-middle col-6">
    <table class="table table-bordered table-hover bg-white">
    <thead class="table-secondary">
    <tr>
        <th scope="col"></th>
        <th scope="col">Status</th>
        <th scope="col">Description</th>
        <th scope="col">Urgency</th>
        <th scope="col">Client/Technician</th>
        <th scope="col">Date</th>
        <th scope="col">Link</th>

    </tr>
    </thead>

    <tbody>

    {{#each tickets}}
        <tr>
        <td></td>    
        <td>{{this.status}}</td>
        <td>{{this.ticket_title}}</td>
        <td>{{this.urgency}}</td>
        <td>{{this.user.first_name}} {{user.last_name}}</td>
        <td>{{format_date this.date_created}}</td>
        <td><a href="/ticket/{{id}}"><i class="fa-solid fa-arrow-up-right-from-square"></i></a></td>
    </tr>
    {{/each}}
    </tbody>
</table>
</div>

</section>

<script src="/js/dashboard.js"></script>
<!-- Importing the closeModal Script [ET] -->
<script src="/js/closeModal.js"></script>








